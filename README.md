# User Portal API

A high-performance, asynchronous REST API to manage user profile data. This project serves as the backend for the User Portal UI and is built with a modern Python stack.

![Python](https://img.shields.io/badge/python-3.13+-blue.svg)
![FastAPI](https://img.shields.io/badge/FastAPI-0.115.13-green.svg)
![SQLModel](https://img.shields.io/badge/SQLModel-0.0.24-blue.svg)

---

## Features

- **Modern Web Framework:** Built with **FastAPI** for high performance and automatic API documentation.
- **Asynchronous from the Ground Up:** Utilizes `async` / `await` for all database operations to handle high concurrency.
- **Robust ORM:** Uses **SQLModel** for clear, Pydantic-based data models and database interaction.
- **Layered Architecture:** Follows a clean separation of concerns (Routers, Services, CRUD) for maintainability and testability.
- **Dependency Management:** Uses **`uv`** for lightning-fast package installation and environment management.
- **Database:** Connects to a MySQL database using the `aiomysql` async driver.

## Project Structure

The project follows a "Package by Feature" architecture to ensure scalability and separation of concerns.

```text
user-portal-api/
│
├── .venv/                      # Virtual environment folder (managed by uv)
│
├── app/                        # Main application source code
│   ├── __init__.py
│   ├── main.py                 # FastAPI app instantiation and router inclusion
│   ├── db.py                   # Database engine and session management
│   ├── dependencies.py         # Shared dependencies (e.g., authentication)
│   │
│   └── profiles/               # The "Profiles" feature package
│       ├── __init__.py
│       ├── router.py           # API endpoints for /profiles
│       ├── service.py          # Business logic for profiles
│       ├── crud.py             # Data Access Layer for profiles
│       ├── models.py           # Database model for profiles
│       └── schemas.py          # Pydantic schemas for API validation
│
├── .env                        # Local environment variables (DO NOT COMMIT)
├── .env.example                # Example environment file
└── requirements.txt            # Project dependencies (generated by uv)
```

## Getting Started

Follow these instructions to get the project up and running on your local machine for development and testing purposes.

### Prerequisites

- Python 3.11+
- `uv` package manager. If you don't have it, install it from [Astral's official site](https://astral.sh/uv).
- A running MySQL database instance.

### Installation

1.  **Clone the repository:**

    ```bash
    git clone <your-repository-url>
    cd user-portal-api
    ```

2.  **Create the virtual environment using `uv`:**

    ```bash
    uv venv
    ```

3.  **Activate the virtual environment:**

    - On macOS / Linux:
      ```bash
      source .venv/bin/activate
      ```
    - On Windows:
      ```bash
      .\.venv\Scripts\activate
      ```

4.  **Install all project dependencies using `uv`:**
    ```bash
    uv pip install -r requirements.txt
    ```

### Environment Configuration

This project uses a `.env` file to manage environment variables.

1.  Create a copy of the example file:

    ```bash
    cp .env.example .env
    ```

2.  Open the newly created `.env` file and update the variables with your local configuration.

    ```dotenv
    # .env

    # Database connection string for MySQL with the async aiomysql driver
    DATABASE_URL="mysql+aiomysql://YOUR_DB_USER:YOUR_DB_PASSWORD@localhost:3306/YOUR_DB_NAME"

    # The port the Uvicorn server will run on
    PORT=8000
    ```

## Running the Application

Once the setup is complete, you can start the FastAPI development server.

1.  **Ensure your virtual environment is activated.**

2.  **Run the Uvicorn server from the project root directory:**
    ```bash
    uvicorn app.main:app --reload
    ```
    - `app.main:app`: Tells Uvicorn to look for the `app` object inside the `app/main.py` file.
    - `--reload`: Enables hot-reloading for development.

The server will be available at `http://127.0.0.1:8000`. On the first run, it will automatically create the necessary database tables.

## API Documentation

FastAPI provides automatic, interactive API documentation. Once the server is running, you can access it at:

- **Swagger UI:** [http://127.0.0.1:8000/docs](http://127.0.0.1:8000/docs)
- **ReDoc:** [http://127.0.0.1:8000/redoc](http://127.0.0.1:8000/redoc)

## Running Tests

(This section can be filled out once a testing framework is in place)

To run the automated tests for this system, use `pytest`:

```bash
pytest
```

---

## Guided by

This project was developed with guidance from **Gemini**, a large language model from Google, which assisted with project structuring, code generation, debugging, and best practice recommendations.
